<!DOCTYPE html>
<html>
<head>
    <title>Hayden tax table computation</title>
</head>

<body>

<h2>Hayden Tax Table Computation</h2>

<form>
    <label for="income">Enter income </label>
    <input type ="number" id="income" value=5000> <br><br>

    <label for="baseRate">Enter the base tax rate </label>
    <input type ="number" id="baseRate" value= "0.05" step="0.01"> <br><br>

    <label for="cutoff">Enter the cutoff</label>
    <input type ="number" id="cutoff" value="7500"> <br><br>
    
    <label for="extRate">Enter the extended tax rate</label>
    <input type ="number" id="extRate" value="0.15" step="0.01"> <br><br>

    <input type="button" onclick="doTax()" value="Show tax table">
</form>


<p id="result"></p>

<hr>

<form>
    <label>
        <input type="radio" name="op" id="exponent" value="exponent" onclick="chooseOp()">
        power
    </label>
    <br>
    <label>
        <input type="radio" name="op" id="add" value="add" onclick="chooseOp()">
        sum
    </label>
    <br>
    <label>
        <input type="radio" name="op" id="mod" value="mod" onclick="chooseOp()">
        mod
    </label>
    <br>
</form>

<p id="opResult"></p>

<script> 

function doTax(){
    const income = Number(document.getElementById("income").value);
    const baseRate = Number(document.getElementById("baseRate").value);
    const cutoff = Number(document.getElementById("cutoff").value);
    const extRate = Number(document.getElementById("extRate").value);

    let taxTable = "";
    for (let i = 1; i<=5; i++){
        let incomeLevel = i * income;
        let tax = 0;
        if (incomeLevel <= cutoff){
            tax = incomeLevel * baseRate;
        } else {
            tax = cutoff * baseRate + (incomeLevel - cutoff) * extRate;
        }
        taxTable += "incomeLevel " + incomeLevel + " is " + tax + "; ";
    }
    document.getElementById("result").innerHTML = "Taxes are: " + taxTable;
}
function chooseOp(){
    const income = Number(document.getElementById("income").value);
    const baseRate = Number(document.getElementById("baseRate").value);

    let outputText = "";
    if(document.getElementById("exponent").checked){
        const value = income ** baseRate;
        outputText = income + " ** " + baseRate + " is " + value;
    } else if(document.getElementById("add").checked){
        const value = income + baseRate;
        outputText = income + " + " + baseRate + " is " + value;
    } else if(document.getElementById("mod").checked){
        const value = income % baseRate;
        outputText = income + " % " + baseRate + " is " + value;
    }
    
    document.getElementById("opResult").innerHTML = outputText;
}
</script>

</body>
</html> 